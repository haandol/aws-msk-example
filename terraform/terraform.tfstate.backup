{
  "version": 4,
  "terraform_version": "1.3.1",
  "serial": 8,
  "lineage": "02c65719-fe7b-e537-c295-f33d45c0652f",
  "outputs": {},
  "resources": [
    {
      "module": "module.kafka",
      "mode": "data",
      "type": "aws_msk_broker_nodes",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "cluster_arn": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "id": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "node_info_list": [
              {
                "attached_eni_id": "eni-0d68aef54d249dc0a",
                "broker_id": 1,
                "client_subnet": "subnet-0aecbe866e3d195b3",
                "client_vpc_ip_address": "10.0.188.1",
                "endpoints": [
                  "b-1.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com"
                ],
                "node_arn": "arn:aws:kafka:ap-northeast-2:473805908684:broker/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4/2b429d2c-e9e7-4108-bac1-3153d0f0f5bb"
              },
              {
                "attached_eni_id": "eni-0cb75ce6b23ca3fca",
                "broker_id": 2,
                "client_subnet": "subnet-096dd40097ff0de91",
                "client_vpc_ip_address": "10.0.231.149",
                "endpoints": [
                  "b-2.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com"
                ],
                "node_arn": "arn:aws:kafka:ap-northeast-2:473805908684:broker/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4/f5f5e389-c8e9-4967-884d-2e636ee74daa"
              }
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.kafka",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:ap-northeast-2:473805908684:alarm:TargetTracking-arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4-AlarmHigh-04598cd6-855e-4b48-9a16-f17f2fdf6bb2"
            ],
            "arn": "arn:aws:autoscaling:ap-northeast-2:473805908684:scalingPolicy:6e539200-8051-438d-b3e1-975c9dcd4ef9:resource/kafka/arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4:policyName/pe-test-msko11y-broker-scaling",
            "id": "pe-test-msko11y-broker-scaling",
            "name": "pe-test-msko11y-broker-scaling",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "scalable_dimension": "kafka:broker-storage:VolumeSize",
            "service_namespace": "kafka",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "KafkaBrokerStorageUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 0,
                "scale_out_cooldown": 0,
                "target_value": 60
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kafka.aws_appautoscaling_target.default",
            "module.kafka.aws_msk_cluster.default",
            "module.kafka.aws_msk_configuration.config",
            "module.kafka.module.broker_security_group.aws_security_group.cbd",
            "module.kafka.module.broker_security_group.aws_security_group.default"
          ]
        }
      ]
    },
    {
      "module": "module.kafka",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "max_capacity": 1000,
            "min_capacity": 1,
            "resource_id": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "role_arn": "arn:aws:iam::473805908684:role/aws-service-role/kafka.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_KafkaCluster",
            "scalable_dimension": "kafka:broker-storage:VolumeSize",
            "service_namespace": "kafka"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kafka.aws_msk_cluster.default",
            "module.kafka.aws_msk_configuration.config",
            "module.kafka.module.broker_security_group.aws_security_group.cbd",
            "module.kafka.module.broker_security_group.aws_security_group.default"
          ]
        }
      ]
    },
    {
      "module": "module.kafka",
      "mode": "managed",
      "type": "aws_msk_cluster",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "bootstrap_brokers": "",
            "bootstrap_brokers_public_sasl_iam": "",
            "bootstrap_brokers_public_sasl_scram": "",
            "bootstrap_brokers_public_tls": "",
            "bootstrap_brokers_sasl_iam": "",
            "bootstrap_brokers_sasl_scram": "",
            "bootstrap_brokers_tls": "b-1.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:9094,b-2.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:9094",
            "broker_node_group_info": [
              {
                "az_distribution": "DEFAULT",
                "client_subnets": [
                  "subnet-096dd40097ff0de91",
                  "subnet-0aecbe866e3d195b3"
                ],
                "connectivity_info": [
                  {
                    "public_access": [
                      {
                        "type": "DISABLED"
                      }
                    ]
                  }
                ],
                "ebs_volume_size": 1000,
                "instance_type": "kafka.m5.large",
                "security_groups": [
                  "sg-02762d23a56bba519"
                ],
                "storage_info": [
                  {
                    "ebs_storage_info": [
                      {
                        "provisioned_throughput": [],
                        "volume_size": 1000
                      }
                    ]
                  }
                ]
              }
            ],
            "client_authentication": [],
            "cluster_name": "pe-test-msko11y",
            "configuration_info": [
              {
                "arn": "arn:aws:kafka:ap-northeast-2:473805908684:configuration/pe-test-msko11y/df9d2d0d-d344-44d6-8fbb-19ce60915e96-4",
                "revision": 1
              }
            ],
            "current_version": "K3P5ROKL5A1OLE",
            "encryption_info": [
              {
                "encryption_at_rest_kms_key_arn": "arn:aws:kms:ap-northeast-2:473805908684:key/d3b685e1-eb5f-43d8-b70d-82d17b671e80",
                "encryption_in_transit": [
                  {
                    "client_broker": "TLS",
                    "in_cluster": true
                  }
                ]
              }
            ],
            "enhanced_monitoring": "PER_TOPIC_PER_BROKER",
            "id": "arn:aws:kafka:ap-northeast-2:473805908684:cluster/pe-test-msko11y/d12ae3fc-301d-4020-909a-9545fa073a08-4",
            "kafka_version": "2.8.1",
            "logging_info": [
              {
                "broker_logs": [
                  {
                    "cloudwatch_logs": [
                      {
                        "enabled": false,
                        "log_group": ""
                      }
                    ],
                    "firehose": [
                      {
                        "delivery_stream": "",
                        "enabled": false
                      }
                    ],
                    "s3": [
                      {
                        "bucket": "",
                        "enabled": false,
                        "prefix": ""
                      }
                    ]
                  }
                ]
              }
            ],
            "number_of_broker_nodes": 2,
            "open_monitoring": [
              {
                "prometheus": [
                  {
                    "jmx_exporter": [
                      {
                        "enabled_in_broker": true
                      }
                    ],
                    "node_exporter": [
                      {
                        "enabled_in_broker": false
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "pe-test-msko11y",
              "Namespace": "pe",
              "Stage": "test"
            },
            "tags_all": {
              "Name": "pe-test-msko11y",
              "Namespace": "pe",
              "Stage": "test"
            },
            "timeouts": null,
            "zookeeper_connect_string": "z-1.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:2181,z-2.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:2181,z-3.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:2181",
            "zookeeper_connect_string_tls": "z-1.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:2182,z-2.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:2182,z-3.petestmsko11y.z2svbx.c4.kafka.ap-northeast-2.amazonaws.com:2182"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo3MjAwMDAwMDAwMDAwLCJkZWxldGUiOjcyMDAwMDAwMDAwMDAsInVwZGF0ZSI6NzIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.kafka.aws_msk_configuration.config",
            "module.kafka.module.broker_security_group.aws_security_group.cbd",
            "module.kafka.module.broker_security_group.aws_security_group.default"
          ]
        }
      ]
    },
    {
      "module": "module.kafka",
      "mode": "managed",
      "type": "aws_msk_configuration",
      "name": "config",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kafka:ap-northeast-2:473805908684:configuration/pe-test-msko11y/df9d2d0d-d344-44d6-8fbb-19ce60915e96-4",
            "description": "Manages an Amazon Managed Streaming for Kafka configuration",
            "id": "arn:aws:kafka:ap-northeast-2:473805908684:configuration/pe-test-msko11y/df9d2d0d-d344-44d6-8fbb-19ce60915e96-4",
            "kafka_versions": [
              "2.8.1"
            ],
            "latest_revision": 1,
            "name": "pe-test-msko11y",
            "server_properties": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.kafka.module.broker_security_group",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-northeast-2:473805908684:security-group/sg-02762d23a56bba519",
            "description": "MSK broker access",
            "egress": [],
            "id": "sg-02762d23a56bba519",
            "ingress": [],
            "name": "pe-test-msko11y",
            "name_prefix": "",
            "owner_id": "473805908684",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "pe-test-msko11y",
              "Namespace": "pe",
              "Stage": "test"
            },
            "tags_all": {
              "Name": "pe-test-msko11y",
              "Namespace": "pe",
              "Stage": "test"
            },
            "timeouts": {
              "create": "10m",
              "delete": "15m"
            },
            "vpc_id": "vpc-0dc9e60d117e95539"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.kafka.module.broker_security_group",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "keyed",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "_allow_all_egress_",
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all egress",
            "from_port": 0,
            "id": "sgrule-3853933568",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-02762d23a56bba519",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.kafka.module.broker_security_group.aws_security_group.cbd",
            "module.kafka.module.broker_security_group.aws_security_group.default"
          ],
          "create_before_destroy": true
        }
      ]
    }
  ],
  "check_results": []
}
